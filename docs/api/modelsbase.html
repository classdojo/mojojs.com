<!DOCTYPE html> <html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" href="../../vendor/rainbow/themes/tomorrow-1445565198814.css"><script type="text/javascript" src="../../app/index.built-1445565198814.js"></script> <script type="text/javascript" src="../../vendor/js/mojo-1445565198814.js"></script> <link rel="stylesheet" href="../../css/app-1445565198814.css"><title>Mojo.js - Build beautifully crafted, and powerful applications</title> <meta property="og:image" content="http://wwww.mojojs.com/img/square-logo.png"><meta name="Description" content="A non-opinionated, customizable JavaScript framework designed for writing scalable web, mobile, and server-side programs."></head> <body><div class="header fixed"><div class="container blurb"><div class="row navbar"><div class="col-sm-6"><a href="../../index.html"><img id="logo" src="../../img/mojo-js-transparent-1445565198814.png"></a></div> <div class="navlinks col-sm-6 text-right"><a href="../api.html">Documentation</a> <a href="../guides.html">Guides</a> <!--a href="/plugins">Plugins</a--><a href="../getting-started/installation.html">Download</a> <!--a href="/blog">Blog</a--><a href="http://github.com/mojo-js/mojo.js">Github</a> <!--a href="https://groups.google.com/forum/#!forum/mojojs">Community</a--></div></div> </div></div> <div class="container docs"><div class="row"><div class="col-sm-3 sidebar no-padding"><div class="sidebar-inner"><!--div class="searchbar">
      <input type="text" placeholder="Search Docs..." class="form-control" data-bind="{{ model: <~>searchQuery, onEnter: search() }}" />
    </div--><!--- Installation
    - Tutorials
    - Videos
    - API
      - mojo-application
      - mojo-views
      - mojo-models
      - mojo-router
      - bindable


    --><div class="options"><span class="headliner"><a data-href="docCategory" href="../getting-started.html">getting started</a></span> <ul><li><a data-href="docArticle" href="../getting-started/what-is-mojo.html">What is Mojo?</a> </li><li><a data-href="docArticle" href="../getting-started/what-makes-mojo-different.html">What makes Mojo different?</a> <ul class="properties"><li><a href="../getting-started/what-makes-mojo-different.html#propertyscope">Property scope</a></li><li><a href="../getting-started/what-makes-mojo-different.html#compiledtemplates">Compiled templates</a></li><li><a href="../getting-started/what-makes-mojo-different.html#virtualproperties">Virtual properties</a></li><li><a href="../getting-started/what-makes-mojo-different.html#explicit">Explicit</a></li><li><a href="../getting-started/what-makes-mojo-different.html#flexible">Flexible</a></li></ul></li><li><a data-href="docArticle" href="../getting-started/about-these-docs.html">About these docs</a> </li><li><a data-href="docArticle" href="../getting-started/installation.html">Installation</a> <ul class="properties"><li><a href="../getting-started/installation.html#npminstall">npm install</a></li><li><a href="../getting-started/installation.html#npmstart">npm start</a></li><li><a href="../getting-started/installation.html#npmrunbuild">npm run build</a></li><li><a href="../getting-started/installation.html#npmrunhotswap">npm run hotswap</a></li><li><a href="../getting-started/installation.html#maketest">make test</a></li><li><a href="../getting-started/installation.html#maketestwatch">make test-watch</a></li></ul></li><li><a data-href="docArticle" href="../getting-started/examples.html">Examples</a> </li></ul></div> <hr><div class="options"><span class="headliner"><a data-href="docCategory" href="../guides.html">guides</a></span> <ul><li><a data-href="docArticle" href="../guides/architecture.html">Architecture</a> <ul class="properties"><li><a href="../guides/architecture.html#whatismv">What is MV*?</a></li><li><a href="../guides/architecture.html#frameworklayers">Framework Layers</a></li><li><a href="../guides/architecture.html#planning">Planning</a></li></ul></li><li><a data-href="docArticle" href="../guides/structuring-your-application.html">Structuring your application</a> <ul class="properties"><li><a href="../guides/structuring-your-application.html#models">models</a></li><li><a href="../guides/structuring-your-application.html#views">views</a></li><li><a href="../guides/structuring-your-application.html#httprouter">HTTP router</a></li><li><a href="../guides/structuring-your-application.html#unittests">unit tests</a></li></ul></li></ul></div> <hr><div class="options"><span class="headliner"><a data-href="docCategory" href="../api.html">api</a></span> <ul><li><a data-href="docArticle" href="mojo.html">mojo</a> <ul class="properties"><li><a href="mojo.html#application">application</a></li><li><a href="mojo.html#applicationviews">application.views</a></li><li><a href="mojo.html#applicationpaperclip">application.paperclip</a></li><li><a href="mojo.html#applicationmodels">application.models</a></li><li><a href="mojo.html#models">models</a></li><li><a href="mojo.html#views">views</a></li></ul></li><li><a data-href="docArticle" href="application.html">Application</a> <ul class="properties"><li><a href="application.html#applicationproperties">Application ( )</a></li><li><a href="application.html#applicationmain">Application.main</a></li><li><a href="application.html#plugins">plugins</a></li><li><a href="application.html#nodefactory">nodeFactory</a></li><li><a href="application.html#useplugins">use ( )</a></li><li><a href="application.html#initialize">initialize ( )</a></li><li><a href="application.html#overridewillinitialize">override willInitialize ( )</a></li><li><a href="application.html#overridedidinitialize">override didInitialize ( )</a></li><li><a href="application.html#events">Events</a></li><li><a href="application.html#views">views</a></li><li><a href="application.html#viewsregisterclassesorclassnameclass">views.register ( )</a></li><li><a href="application.html#viewscreateclassnameproperties">views.create ( )</a></li><li><a href="application.html#viewsdecoratordecorator">views.decorator ( )</a></li><li><a href="application.html#models">models</a></li><li><a href="application.html#modelsregisterclassesorclassnameclass">models.register ( )</a></li><li><a href="application.html#modelscreateclassnameproperties">models.create ( )</a></li><li><a href="application.html#modelsdecoratedecorator">models.decorate ( )</a></li><li><a href="application.html#animateanimatable">animate ( )</a></li><li><a href="application.html#router">router</a></li><li><a href="application.html#paperclip">paperclip</a></li></ul></li><li><a data-href="docArticle" href="viewsbase.html">views.Base</a> <ul class="properties"><li><a href="viewsbase.html#basepropertiesapplication">Base ( )</a></li><li><a href="viewsbase.html#section">section</a></li><li><a href="viewsbase.html#applicationapplication">Application application</a></li><li><a href="viewsbase.html#booleanvisible">Boolean visible</a></li><li><a href="viewsbase.html#documentfragmentrender">DocumentFragment render ( )</a></li><li><a href="viewsbase.html#overridedidcreatesection">override didCreateSection ( )</a></li><li><a href="viewsbase.html#overridewillrender">override willRender ( )</a></li><li><a href="viewsbase.html#overridedidrender">override didRender ( )</a></li><li><a href="viewsbase.html#remove">remove ( )</a></li><li><a href="viewsbase.html#overridewillremove">override willRemove ( )</a></li><li><a href="viewsbase.html#overridedidremove">override didRemove ( )</a></li><li><a href="viewsbase.html#events">Events</a></li><li><a href="viewsbase.html#paper">paper</a></li><li><a href="viewsbase.html#bindings">bindings</a></li><li><a href="viewsbase.html#children">children</a></li></ul></li><li><a data-href="docArticle" href="viewsstack.html">views.Stack</a> <ul class="properties"><li><a href="viewsstack.html#state">state</a></li><li><a href="viewsstack.html#states">states</a></li></ul></li><li><a data-href="docArticle" href="viewslist.html">views.List</a> <ul class="properties"><li><a href="viewslist.html#source">source</a></li><li><a href="viewslist.html#modelviewclass">modelViewClass</a></li><li><a href="viewslist.html#sortmodelamodelb">sort ( )</a></li><li><a href="viewslist.html#filtermodel">filter ( )</a></li></ul></li><li><a data-href="docArticle" href="templates.html">templates</a> <ul class="properties"><li><a href="templates.html#123123blocks125125">{{ blocks }}</a></li><li><a href="templates.html#123123htmlcontent125125">{{ html: content }}</a></li><li><a href="templates.html#123123ifcondition125125">{{ #if: condition }}</a></li><li><a href="templates.html#123123modelcontext125125">{{ model: context }}</a></li><li><a href="templates.html#123123eventexpression125125">{{ event: expression }}</a></li><li><a href="templates.html#123123showbool125125">{{ show: bool }}</a></li><li><a href="templates.html#123123cssstyles125125">{{ css: styles }}</a></li><li><a href="templates.html#123123stylestyles125125">{{ style: styles }}</a></li><li><a href="templates.html#123123disablebool125125">{{ disable: bool }}</a></li><li><a href="templates.html#123123focusbool125125">{{ focus: bool }}</a></li><li><a href="templates.html#paperclipapplication">paperclip ( )</a></li><li><a href="templates.html#paperclipmodifiermodifiernamemodifier">paperclip.modifier ( )</a></li><li><a href="templates.html#templatepapercliptemplatesource">template paperclip.template ( )</a></li><li><a href="templates.html#templatebindcontextrender">template.bind ( ).render ( )</a></li></ul></li><li><a data-href="docArticle" href="modelsbase.html">models.Base</a> <ul class="properties"><li><a href="modelsbase.html#basepropertiesapplication">Base ( )</a></li><li><a href="modelsbase.html#data">data</a></li><li><a href="modelsbase.html#deserializedata">deserialize ( )</a></li><li><a href="modelsbase.html#baseserialize">base.serialize ( )</a></li><li><a href="modelsbase.html#persist">persist</a></li><li><a href="modelsbase.html#modelloadonload">model.load ( )</a></li><li><a href="modelsbase.html#modelreloadonreload">model.reload ( )</a></li><li><a href="modelsbase.html#modelsaveonsave">model.save ( )</a></li><li><a href="modelsbase.html#modelremoveonremove">model.remove ( )</a></li><li><a href="modelsbase.html#persistevents">Persist events</a></li><li><a href="modelsbase.html#virtuals">virtuals</a></li><li><a href="modelsbase.html#bindings">bindings</a></li></ul></li><li><a data-href="docArticle" href="modelscollection.html">models.Collection</a> <ul class="properties"><li><a href="modelscollection.html#collectionpropertiesapplication">Collection ( )</a></li><li><a href="modelscollection.html#data">data</a></li><li><a href="modelscollection.html#modelcreatemodeloptions">model createModel ( )</a></li><li><a href="modelscollection.html#idproperty">idProperty</a></li><li><a href="modelscollection.html#modelcreateproperties">model create ( )</a></li><li><a href="modelscollection.html#deserializedata">deserialize ( )</a></li><li><a href="modelscollection.html#serialize">serialize ( )</a></li></ul></li><li><a data-href="docArticle" href="router.html">router</a> <ul class="properties"><li><a href="router.html#routeenter">route.enter</a></li><li><a href="router.html#routename">route.name</a></li><li><a href="router.html#routestates">route.states</a></li><li><a href="router.html#routeparameters">route parameters</a></li><li><a href="router.html#nestedroutes">nested routes</a></li><li><a href="router.html#routerredirectpathnameorroutenameoptionscomplete">router.redirect ( )</a></li><li><a href="router.html#routeraddroutes">router.add ( )</a></li><li><a href="router.html#routerlocation">router.location</a></li><li><a href="router.html#locationquery">location.query</a></li><li><a href="router.html#locationparams">location.params</a></li><li><a href="router.html#locationurl">location.url</a></li><li><a href="router.html#locationpathname">location.pathname</a></li><li><a href="router.html#locationredirectpathnameoptions">location.redirect ( )</a></li></ul></li><li><a data-href="docArticle" href="bindableobject.html">bindable.Object</a> <ul class="properties"><li><a href="bindableobject.html#objectproperties">Object ( )</a></li><li><a href="bindableobject.html#valuegetproperty">value get ( )</a></li><li><a href="bindableobject.html#setpropertyvalue">set ( )</a></li><li><a href="bindableobject.html#setpropertiesproperties">setProperties ( )</a></li><li><a href="bindableobject.html#hasproperty">has ( )</a></li><li><a href="bindableobject.html#listeneroneventcallback">listener on ( )</a></li><li><a href="bindableobject.html#emiteventargs">emit ( )</a></li><li><a href="bindableobject.html#onceeventcallback">once ( )</a></li><li><a href="bindableobject.html#removealllistenerstype">removeAllListeners ( )</a></li><li><a href="bindableobject.html#bindingbindfromoptions">binding bind ( )</a></li><li><a href="bindableobject.html#bindingnow">binding.now ( )</a></li><li><a href="bindableobject.html#bindingdispose">binding.dispose ( )</a></li><li><a href="bindableobject.html#events">Events</a></li></ul></li><li><a data-href="docArticle" href="bindablecollection.html">bindable.Collection</a> <ul class="properties"><li><a href="bindablecollection.html#collectionsource">Collection ( )</a></li><li><a href="bindablecollection.html#source">source</a></li><li><a href="bindablecollection.html#resetsource">reset ( )</a></li><li><a href="bindablecollection.html#indexofitem">indexOf ( )</a></li><li><a href="bindablecollection.html#valueatindex">value at ( )</a></li><li><a href="bindablecollection.html#eachfn">each ( )</a></li><li><a href="bindablecollection.html#pushvalues">push ( )</a></li><li><a href="bindablecollection.html#unshiftvalues">unshift ( )</a></li><li><a href="bindablecollection.html#spliceindexcountnewvalues">splice ( )</a></li><li><a href="bindablecollection.html#valuepop">value pop ( )</a></li><li><a href="bindablecollection.html#valueshift">value shift ( )</a></li><li><a href="bindablecollection.html#events">Events</a></li></ul></li><li><a data-href="docArticle" href="mojo-cli.html">mojo-cli</a> </li></ul></div> <hr><div class="options"><span class="headliner"><a data-href="docCategory" href="../extended-api.html">extended api</a></span> <ul><li><a data-href="docArticle" href="../extended-api/i18n.html">i18n</a> <ul class="properties"><li><a href="../extended-api/i18n.html#i18ntranslations">i18n.translations</a></li><li><a href="../extended-api/i18n.html#i18nlocale">i18n.locale</a></li><li><a href="../extended-api/i18n.html#tparamsalternativetext">t ( )</a></li></ul></li></ul></div> <hr><div class="options"><span class="headliner"><a data-href="docCategory" href="../core-api.html">core api</a></span> <ul><li><a data-href="docArticle" href="../core-api/paperclipbaseblockbinding.html">paperclip.BaseBlockBinding</a> <ul class="properties"><li><a href="../core-api/paperclipbaseblockbinding.html#paperclipblockbindingnameblockbindingclass">paperclip.blockBinding ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#baseblockbindingoptions">BaseBlockBinding ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#overridebindcontext">override bind ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#overrideunbind">override unbind ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#overrideonchangecontext">override _onChange ( )</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#nodefactory">nodeFactory</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#application">application</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#clip">clip</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#scriptname">scriptName</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#section">section</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#contenttemplate">contentTemplate</a></li><li><a href="../core-api/paperclipbaseblockbinding.html#childblocktemplate">childBlockTemplate</a></li></ul></li><li><a data-href="docArticle" href="../core-api/paperclipbaseattrdatabinding.html">paperclip.BaseAttrDataBinding</a> <ul class="properties"><li><a href="../core-api/paperclipbaseattrdatabinding.html#paperclipattrdatabindingnameattrdatabindingclass">paperclip.attrDataBinding ( )</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#baseattrdatabindingoptions">BaseAttrDataBinding ( )</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#node">node</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#clip">clip</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#application">application</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#scriptname">scriptName</a></li><li><a href="../core-api/paperclipbaseattrdatabinding.html#script">script</a></li></ul></li><li><a data-href="docArticle" href="../core-api/paperclipbaseattrbinding.html">paperclip.BaseAttrBinding</a> <ul class="properties"><li><a href="../core-api/paperclipbaseattrbinding.html#paperclipnodebindingnamenodebindingclass">paperclip.nodeBinding ( )</a></li><li><a href="../core-api/paperclipbaseattrbinding.html#baseattrbindingoptions">BaseAttrBinding ( )</a></li><li><a href="../core-api/paperclipbaseattrbinding.html#overrideonchangetext">override _onChange ( )</a></li><li><a href="../core-api/paperclipbaseattrbinding.html#node">node</a></li></ul></li></ul></div> <hr> <div class="sidebar-inner-footer"></div></div></div> <div class="col-sm-9 docs-content"><div class="docs-inner-content"><hr><div class="docs-article-header"><a class="improve-docs-link" href="http://github.com/mojo-js/mojojs.com/tree/master/content/docs/2%20API/5%20models.Base.article.md"><i class="ion-edit"></i></a> <h2 class="article-title"><i class="ion-document-text"></i> models.Base</h2></div> <hr><div class="docs-article"><p></p> <!--TODO - pull JSONP data from streams such as twitter
--><p>Extends <a href="bindableobject.html">bindable.Object</a> <br>See Also <a href="modelscollection.html">models.Collection</a>, <a href="application.html">Application</a> <br></p> <p>Models represent data, and implement properties, methods, and virtuals depending on how you need to interact with that data. Just like views, models are also extendable. </p> <h3 class="doc-headline" id="installation"><a href="modelsbase.html#installation" class="link"><span class="glyphicon glyphicon-link"></span></a>Installation</h3><p><pre><code>npm install mojo-models --save-exact
</code></pre></p> <h4 class="doc-headline" id="basepropertiesapplication"><a href="modelsbase.html#basepropertiesapplication" class="link"><span class="glyphicon glyphicon-link"></span></a>Base(properties[, <a href="application.html">application</a>])</h4><p>base model constructor</p> <ul><li><code>properties</code> - values to set onto the view. This could be anything.</li> <li><code>application</code> - (optional) the <a href="application.html">application</a>. <code>Application.main</code> will be set if this is omitted.</li></ul> <p><span data-section="end" style="display:none;"></span><script type="text/javascript" id="script37">      app.animate({        update: function() {          var view = app.views.create('ide', {'component':'ide','tabs':true,'showPreview':false,'file':app.models.create('object', {'name':'/','files':app.models.create('collection', {source: [app.models.create('object', {'_id':'index-js','name':'index.js','content':'var%20models%20%3D%20require(%22mojo-models%400.3.4%22)%3B%0Avar%20model%20%3D%20new%20models.Base(%7B%20message%3A%20%22Hello%20world!%22%20%7D)%3B%0Aconsole.log(model.message)%3B%0A'})] })})});          var script = document.getElementById('script37');          var parent = script.parentNode;          parent.insertBefore(view.render(), script);          var sib = script;          var sibs = [];          while(sib) {            sibs.push(sib);            var prevSibling = sib.prevSibling;            if ($(sib).attr('data-section') === 'end') break;            sib = prevSibling;          }          for (var i = sibs.length; i--;) {            parent.removeChild(sibs[i]);          }        }      });    </script></p> <h4 class="doc-headline" id="data"><a href="modelsbase.html#data" class="link"><span class="glyphicon glyphicon-link"></span></a>data</h4><p>The raw data set on the model - this is usually transformed into something the model can use via <code>deserialize</code>.</p> <p><span data-section="end" style="display:none;"></span><script type="text/javascript" id="script38">      app.animate({        update: function() {          var view = app.views.create('ide', {'component':'ide','tabs':true,'showPreview':false,'file':app.models.create('object', {'name':'/','files':app.models.create('collection', {source: [app.models.create('object', {'_id':'index-js','name':'index.js','content':'var%20models%20%3D%20require(%22mojo-models%400.3.4%22)%3B%0Avar%20model%20%3D%20new%20models.Base(%7B%20data%3A%20%7B%20message%3A%20%22Hello%20world!%22%20%7D%7D)%3B%0Aconsole.log(model.message)%3B%20%2F%2F%20Hello%20world!%0Aconsole.log(model.data)%3B%20%2F%2F%20%7B%20message%3A%20%22Hello%20world!%22%20%7D%0Amodel.set(%22data%22%2C%20%7B%20message%3A%20%22Hola%20Mundo!%22%20%7D)%3B%0Aconsole.log(model.message)%3B%20%2F%2F%20Hola%20Mundo!%0Aconsole.log(model.data)%3B%20%2F%2F%20%7B%20message%3A%20%22Hola%20Mundo!%22%20%7D%0A'})] })})});          var script = document.getElementById('script38');          var parent = script.parentNode;          parent.insertBefore(view.render(), script);          var sib = script;          var sibs = [];          while(sib) {            sibs.push(sib);            var prevSibling = sib.prevSibling;            if ($(sib).attr('data-section') === 'end') break;            sib = prevSibling;          }          for (var i = sibs.length; i--;) {            parent.removeChild(sibs[i]);          }        }      });    </script></p> <h4 class="doc-headline" id="deserializedata"><a href="modelsbase.html#deserializedata" class="link"><span class="glyphicon glyphicon-link"></span></a>deserialize(data)</h4><p>deserialize takes the <code>data</code> property on the model, and transforms the returned values as <em>additional</em> properties on the model. </p> <p><span data-section="end" style="display:none;"></span><script type="text/javascript" id="script39">      app.animate({        update: function() {          var view = app.views.create('ide', {'component':'ide','tabs':true,'showPreview':false,'file':app.models.create('object', {'name':'/','files':app.models.create('collection', {source: [app.models.create('object', {'_id':'index-js','name':'index.js','content':'var%20models%20%20%3D%20require(%22mojo-models%22)%2C%0AApplication%20%3D%20require(%22mojo-application%22)%3B%0A%0Avar%20app%20%3D%20new%20Application()%3B%0Aapp.use(models)%3B%0A%0Avar%20Person%20%3D%20models.Base.extend(%7B%0A%20%20deserialize%3A%20function%20(data)%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20firstName%3A%20data.firstName%2C%0A%20%20%20%20%20%20lastName%3A%20data.lastName%2C%0A%20%20%20%20%20%20fullName%3A%20data.firstName%20%2B%20%22%20%22%20%2B%20data.lastName%2C%0A%20%20%20%20%20%20createdAt%3A%20new%20Date(data.createdAt)%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%7D)%3B%0A%0A%2F%2F%20first%20set%20the%20properties%20on%20the%20instance%0Avar%20person%20%3D%20new%20Person(%7B%20firstName%3A%20%22Craig%22%2C%20lastName%3A%20%22Jefferds%22%20%7D%2C%20app)%3B%0A%0Aconsole.log(person)%3B%0A%0A%2F%2F%20set%20the%20data%20on%20the%20person%2C%20deserializing%20the%20data%2C%20and%20setting%0A%2F%2F%20to%20the%20model%20again%0Aperson.set(%22data%22%2C%20%7B%20firstName%3A%20%22Sarah%22%2C%20lastName%3A%20%22Smith%22%2C%20createdAt%3A%20%222014-10-12T18%3A24%3A15.944Z%22%20%7D)%3B%0A%0Aconsole.log(person)%3B%0A'})] })})});          var script = document.getElementById('script39');          var parent = script.parentNode;          parent.insertBefore(view.render(), script);          var sib = script;          var sibs = [];          while(sib) {            sibs.push(sib);            var prevSibling = sib.prevSibling;            if ($(sib).attr('data-section') === 'end') break;            sib = prevSibling;          }          for (var i = sibs.length; i--;) {            parent.removeChild(sibs[i]);          }        }      });    </script></p> <h4 class="doc-headline" id="baseserialize"><a href="modelsbase.html#baseserialize" class="link"><span class="glyphicon glyphicon-link"></span></a>base.serialize()</h4><p>serializes data. This is an alias to <code>toJSON</code></p> <h2 class="doc-headline" id="extendedapi"><a href="modelsbase.html#extendedapi" class="link"><span class="glyphicon glyphicon-link"></span></a>Extended API</h2><h4 class="doc-headline" id="persist"><a href="modelsbase.html#persist" class="link"><span class="glyphicon glyphicon-link"></span></a>persist</h4><p>Persistence layer for models / collections. Also adds the methods <code>load</code>, <code>save</code>, and <code>remove</code>.</p> <p><span data-section="end" style="display:none;"></span><script type="text/javascript" id="script40">      app.animate({        update: function() {          var view = app.views.create('ide', {'component':'ide','tabs':true,'showPreview':false,'file':app.models.create('object', {'name':'/','files':app.models.create('collection', {source: [app.models.create('object', {'_id':'todo-js','name':'todo.js','content':'var%20models%20%3D%20require(%22mojo-models%22)%2C%0Atransport%20%20%3D%20require(%22.%2Ftransport%22)%3B%0A%0Avar%20Todo%20%3D%20models.Base.extend(%7B%0A%20%20persist%3A%20%7B%0A%20%20%20%20load%3A%20function%20(onLoad)%20%7B%0A%20%20%20%20%20%20transport.get(%22%2Fapi%2Ftodos%2F%22%20%2B%20this._id%2C%20onLoad)%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20save%3A%20function%20(onSave)%20%7B%0A%20%20%20%20%20%20if%20(this._id)%20%7B%0A%20%20%20%20%20%20%20%20transport.put(%22%2Fapi%2Ftodos%2F%22%20%2B%20this._id%2C%20%7B%20body%3A%20this.serialize()%20%7D%2C%20onSave)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20transport.post(%22%2Fapi%2Ftodos%22%2C%20%7B%20body%3A%20this.serialize()%20%7D%2C%20onSave)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20remove%3A%20function%20(onRemove)%20%7B%0A%20%20%20%20%20%20transport.del(%22%2Fapi%2Ftodos%2F%22%20%2B%20this._id%2C%20onRemove)%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%20%20deserialize%3A%20function%20(data)%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20_id%3A%20data._id%2C%0A%20%20%20%20%20%20text%3A%20data.text%2C%0A%20%20%20%20%20%20createdAt%3A%20new%20Date(data.createdAt)%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%20%20serialize%3A%20function%20()%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20_id%3A%20this._id%2C%0A%20%20%20%20%20%20text%3A%20this.text%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D)%3B%0A%0Amodule.exports%20%3D%20Todo%3B%0A'}),app.models.create('object', {'_id':'transport-js','name':'transport.js','content':'var%20superagent%20%3D%20require(%22superagent%22)%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20get%3A%20function%20(path%2C%20options%2C%20complete)%20%7B%0A%20%20%20%20superagent.%0A%20%20%20%20get(path).%0A%20%20%20%20query(options.query%20%7C%7C%20%7B%7D).%0A%20%20%20%20end(function%20(err%2C%20response)%20%7B%0A%20%20%20%20%20%20if%20(err)%20return%20complete(err)%3B%0A%20%20%20%20%20%20complete(err%2C%20response.body)%3B%0A%20%20%20%20%7D)%3B%20%20%20%0A%20%20%7D%2C%0A%20%20put%3A%20function%20(path%2C%20options%2C%20complete)%20%7B%0A%20%20%20%20superagent.%0A%20%20%20%20put(path).%0A%20%20%20%20send(options.query%20%7C%7C%20%7B%7D).%0A%20%20%20%20end(function%20(err%2C%20response)%20%7B%0A%20%20%20%20%20%20if%20(err)%20return%20complete(err)%3B%0A%20%20%20%20%20%20complete(err%2C%20response.body)%3B%0A%20%20%20%20%7D)%3B%20%20%20%0A%20%20%7D%2C%0A%20%20post%3A%20function%20(path%2C%20options%2C%20complete)%20%7B%0A%20%20%20%20superagent.%0A%20%20%20%20post(path).%0A%20%20%20%20send(options.body%20%7C%7C%20%7B%7D).%0A%20%20%20%20end(function%20(err%2C%20response)%20%7B%0A%20%20%20%20%20%20if%20(err)%20return%20complete(err)%3B%0A%20%20%20%20%20%20complete(err%2C%20response.body)%3B%0A%20%20%20%20%7D)%3B%20%20%20%0A%20%20%7D%2C%0A%20%20del%3A%20function%20(path%2C%20complete)%20%7B%0A%20%20%20%20superagent.%0A%20%20%20%20del(path).%0A%20%20%20%20end(function%20(err%2C%20response)%20%7B%0A%20%20%20%20%20%20if%20(err)%20return%20complete(err)%3B%0A%20%20%20%20%20%20complete(err%2C%20response.body)%3B%0A%20%20%20%20%7D)%3B%20%20%20%0A%20%20%7D%0A%7D%0A'}),app.models.create('object', {'_id':'index-js','name':'index.js','content':'var%20Todo%20%20%20%3D%20require(%22.%2Ftodo%22)%2C%0Apaperclip%20%20%3D%20require(%22paperclip%22)%3B%0A%0Avar%20todo%20%3D%20new%20Todo()%3B%0A%0Atodo.on(%22willSave%22%2C%20function%20()%20%7B%0A%20%20console.log(%22saving%20%22%2C%20todo)%3B%0A%7D)%3B%0A%0Atodo.on(%22didSave%22%2C%20function%20()%20%7B%0A%20%20console.log(%22saved%20%22%2C%20todo)%3B%0A%7D)%3B%0A%0Atodo.on(%22willRemove%22%2C%20function%20()%20%7B%0A%20%20console.log(%22removing%20%22%2C%20todo)%3B%0A%7D)%3B%0A%0Atodo.on(%22didRemove%22%2C%20function%20()%20%7B%0A%20%20console.log(%22removed%20%22%2C%20todo)%3B%0A%0A%20%20%2F%2F%20remove%20_id%20to%20remove%20the%20button%0A%20%20todo.set(%22_id%22%2C%20void%200)%3B%0A%7D)%3B%0A%0Avar%20fragment%20%3D%20paperclip.template(require(%22.%2Ftemplate.pc%22)).bind(todo).render()%3B%0A%0Apreview.element.appendChild(fragment)%3B%0A'}),app.models.create('object', {'_id':'template-pc','name':'template.pc','content':'%3Cinput%20type%3D%22text%22%20class%3D%22form-control%22%20placeholder%3D%22add%20a%20new%20todo!%22%20data-bind%3D%22%7B%7B%20model%3A%20%3C~%3Etext%2C%20onEnter%3A%20save()%20%7D%7D%22%3E%3C%2Finput%3E%0A%7B%7B%23if%3A_id%7D%7D%0A%3Cinput%20type%3D%22submit%22%20class%3D%22btn%20btn-default%22%20value%3D%22remove%20todo%22%20data-bind%3D%22%7B%7B%20onClick%3A%20remove()%20%7D%7D%22%3E%3C%2Finput%3E%0A%7B%7B%2F%7D%7D%0A'})] })})});          var script = document.getElementById('script40');          var parent = script.parentNode;          parent.insertBefore(view.render(), script);          var sib = script;          var sibs = [];          while(sib) {            sibs.push(sib);            var prevSibling = sib.prevSibling;            if ($(sib).attr('data-section') === 'end') break;            sib = prevSibling;          }          for (var i = sibs.length; i--;) {            parent.removeChild(sibs[i]);          }        }      });    </script></p> <h4 class="doc-headline" id="modelloadonload"><a href="modelsbase.html#modelloadonload" class="link"><span class="glyphicon glyphicon-link"></span></a>model.load(onLoad)</h4><p>Defined when <code>persist</code> is present, and calls <code>persist.load</code>. </p> <ul><li><code>onLoad</code> - onLoad callback function. Expects an <code>(err, data)</code> response. <code>data</code> is set as the <code>data</code> property on the model, and gets <code>deserialized</code>.</li></ul> <p>Note that this method can be called only <em>once</em> during the lifetime of the model. If you want to reload the model, you'll need to call the <code>reload</code> method.</p> <h4 class="doc-headline" id="modelreloadonreload"><a href="modelsbase.html#modelreloadonreload" class="link"><span class="glyphicon glyphicon-link"></span></a>model.reload(onReload)</h4><p>Reloads the model. This can be called many times.</p> <h4 class="doc-headline" id="modelsaveonsave"><a href="modelsbase.html#modelsaveonsave" class="link"><span class="glyphicon glyphicon-link"></span></a>model.save(onSave)</h4><p>Similar to <code>model.load</code>. Calls the <code>persist.save</code> function, and sets result to <code>data</code> to be deserialized on the model.</p> <h4 class="doc-headline" id="modelremoveonremove"><a href="modelsbase.html#modelremoveonremove" class="link"><span class="glyphicon glyphicon-link"></span></a>model.remove(onRemove)</h4><p>Removes the model. Note that if the model is part of a <code>models.Collection</code>, the model will automatically be removed from the collection.</p> <h4 class="doc-headline" id="persistevents"><a href="modelsbase.html#persistevents" class="link"><span class="glyphicon glyphicon-link"></span></a>Persist events</h4><ul><li><code>willSave</code> - emitted when the model is about to be saved</li> <li><code>didSave</code> - emitted when the model has been saved</li> <li><code>willRemove</code> - emitted when the model is about to be removed</li> <li><code>didRemove</code> - emitted when the model has been removed</li></ul> <p>See above for example.</p> <h4 class="doc-headline" id="virtuals"><a href="modelsbase.html#virtuals" class="link"><span class="glyphicon glyphicon-link"></span></a>virtuals</h4><p>Virtual properties allow you to load external resources on demand. This is especially useful when you're data-binding a model property to a view layer, and only what to load what the user currently needs. </p> <p>Note that virtual properties are triggered when they are data-bound.</p> <!--TODO - need production apps as examples
--><p><span data-section="end" style="display:none;"></span><script type="text/javascript" id="script41">      app.animate({        update: function() {          var view = app.views.create('ide', {'component':'ide','tabs':true,'showPreview':false,'file':app.models.create('object', {'name':'/','files':app.models.create('collection', {source: [app.models.create('object', {'_id':'models-js','name':'models.js','content':'var%20models%20%3D%20require(%22mojo-models%400.3.4%22)%3B%0A%0Avar%20User%20%3D%20models.Base.extend(%7B%0A%20%20virtuals%3A%20%7B%0A%20%20%20%20projects%3A%20function%20(onLoad)%20%7B%0A%20%20%20%20%20%20this.application.models.create(%22projects%22%2C%20%7B%0A%20%20%20%20%20%20%20%20user%3A%20this%0A%20%20%20%20%20%20%7D).load(onLoad)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D)%3B%0A%0Avar%20Projects%20%3D%20models.Collection.extend(%7B%0A%20%20createModel%3A%20function%20(properties)%20%7B%0A%20%20%20%20return%20this.application.models.create(%22project%22%2C%20properties)%3B%0A%20%20%7D%2C%0A%20%20persist%3A%20%7B%0A%20%20%20%20load%3A%20function%20(onLoad)%20%7B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%2F%2F%20simulate%20async%20latency%0A%20%20%20%20%20%20setTimeout(onLoad%2C%20Math.random()%20*%201000%2C%20null%2C%20%5B%0A%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22p1%22%2C%20name%3A%20%22Sift.js%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22p2%22%2C%20name%3A%20%22Awsm.js%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22p3%22%2C%20name%3A%20%22Mojo.js%22%20%7D%0A%20%20%20%20%20%20%5D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D)%3B%0A%0Avar%20Project%20%3D%20models.Base.extend(%7B%0A%20%20virtuals%3A%20%7B%0A%20%20%20%20tags%3A%20function%20(onLoad)%20%7B%0A%20%20%20%20%20%20this.application.models.create(%22tags%22%2C%20%7B%0A%20%20%20%20%20%20%20%20project%3A%20this%0A%20%20%20%20%20%20%7D).load(onLoad)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D)%3B%0A%0Avar%20Tags%20%3D%20models.Collection.extend(%7B%0A%20%20createModel%3A%20function%20(properties)%20%7B%0A%20%20%20%20return%20this.application.models.create(%22project%22%2C%20properties)%3B%0A%20%20%7D%2C%0A%20%20persist%3A%20%7B%0A%20%20%20%20load%3A%20function%20(onLoad)%20%7B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20var%20data%20%3D%20%7B%0A%20%20%20%20%20%20%20%20p1%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22t1%22%2C%20name%3A%20%22filtering%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22t2%22%2C%20name%3A%20%22mongodb%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22t3%22%2C%20name%3A%20%22syntactic%22%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20p2%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22t1%22%2C%20name%3A%20%22ec2%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22t2%22%2C%20name%3A%20%22aws%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22t3%22%2C%20name%3A%20%22mongodb%22%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20p3%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22t1%22%2C%20name%3A%20%22framework%22%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%7B%20_id%3A%20%22t2%22%2C%20name%3A%20%22JavaScript%22%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%2F%2F%20simulate%20async%20latency%0A%20%20%20%20%20%20setTimeout(onLoad%2C%20Math.random()%20*%201000%2C%20null%2C%20data%5Bthis.project._id%5D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D)%3B%0A%0Avar%20Tag%20%3D%20models.Base.extend(%7B%7D)%3B%0A%0Amodule.exports%20%3D%20%7B%0A%20%20user%20%20%20%20%20%3A%20User%2C%0A%20%20projects%20%3A%20Projects%2C%0A%20%20project%20%20%3A%20Project%2C%0A%20%20tags%20%20%20%20%20%3A%20Tags%2C%0A%20%20tag%20%20%20%20%20%20%3A%20Tag%0A%7D%3B%0A%0A'}),app.models.create('object', {'_id':'index-js','name':'index.js','content':'var%20models%20%20%3D%20require(%22.%2Fmodels%22)%2C%0AApplication%20%3D%20require(%22mojo-application%22)%3B%0A%0Avar%20app%20%3D%20new%20Application()%3B%0Aapp.use(require(%22mojo-views%400.2.2%22)%2C%20require(%22mojo-paperclip%400.6.3%22)%2C%20require(%22mojo-models%400.3.4%22))%3B%0Aapp.models.register(models)%3B%0Aapp.paperclip.blockBinding(%22each%22%2C%20require(%22.%2FeachBlockBinding%22))%3B%0A%0Avar%20user%20%3D%20app.models.create(%22user%22%2C%20%7B%20name%3A%20%22Ryan%20Gosling%22%20%7D)%3B%0A%0Avar%20fragment%20%3D%20app.paperclip.template(require(%22.%2Ftemplate.pc%22)).bind(user).render()%3B%0A%0Apreview.element.appendChild(fragment)%3B%0A%0A'}),app.models.create('object', {'_id':'template-pc','name':'template.pc','content':'User%3A%20%7B%7Bname%7D%7D%20%3Cbr%20%2F%3E%0A%0AProjects%3A%20%3Cbr%20%2F%3E%0A%3Cul%3E%0A%20%20%7B%7B%23each%3Aprojects%7D%7D%0A%20%20%20%20%3Cli%3E%0A%20%20%20%20%20%20%7B%7Bmodel.name%7D%7D%20%3Cbr%20%2F%3E%0A%20%20%20%20%20%20Tags%3A%0A%20%20%20%20%20%20%3Cul%3E%0A%20%20%20%20%20%20%20%20%7B%7B%23each%3Amodel.tags%7D%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%3E%7B%7Bmodel.name%7D%7D%3C%2Fli%3E%20%20%20%20%0A%20%20%20%20%20%20%20%20%7B%7B%2F%7D%7D%0A%20%20%20%20%20%20%3C%2Ful%3E%0A%20%20%20%20%3C%2Fli%3E%0A%20%20%7B%7B%2F%7D%7D%0A%3C%2Ful%3E%0A'}),app.models.create('object', {'_id':'eachBlockBinding-js','name':'eachBlockBinding.js','content':'var%20paperclip%20%3D%20require(%22paperclip%22)%2C%0Aviews%20%20%20%20%20%20%20%20%20%3D%20require(%22mojo-views%400.2.2%22)%3B%0A%0Amodule.exports%20%3D%20paperclip.BaseBlockBinding.extend(%7B%0A%20%20bind%3A%20function%20(context)%20%7B%0A%0A%20%20%20%20var%20ItemView%20%3D%20views.Base.extend(%7B%0A%20%20%20%20%20%20paper%3A%20this.contentTemplate.paper%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20this._view%20%3D%20new%20views.List(%7B%0A%20%20%20%20%20%20modelViewClass%3A%20ItemView%2C%0A%20%20%20%20%20%20parent%3A%20context%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20this.section.append(this._view.render())%3B%0A%0A%20%20%20%20return%20paperclip.BaseBlockBinding.prototype.bind.call(this%2C%20context)%3B%0A%20%20%7D%2C%0A%20%20_onChange%3A%20function%20(properties)%20%7B%0A%0A%20%20%20%20if%20(!properties%20%7C%7C%20properties.__isBindableCollection%20%7C%7C%20!properties.source)%20%7B%0A%20%20%20%20%20%20properties%20%3D%20%7B%0A%20%20%20%20%20%20%20%20source%3A%20properties%20%7C%7C%20%5B%5D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this._view.setProperties(properties)%3B%0A%20%20%7D%0A%7D)%3B%0A'})] })})});          var script = document.getElementById('script41');          var parent = script.parentNode;          parent.insertBefore(view.render(), script);          var sib = script;          var sibs = [];          while(sib) {            sibs.push(sib);            var prevSibling = sib.prevSibling;            if ($(sib).attr('data-section') === 'end') break;            sib = prevSibling;          }          for (var i = sibs.length; i--;) {            parent.removeChild(sibs[i]);          }        }      });    </script></p> <h4 class="doc-headline" id="bindings"><a href="modelsbase.html#bindings" class="link"><span class="glyphicon glyphicon-link"></span></a>bindings</h4><p>Bindings allow you to compute properties on models.</p> <p><span data-section="end" style="display:none;"></span><script type="text/javascript" id="script42">      app.animate({        update: function() {          var view = app.views.create('ide', {'component':'ide','tabs':true,'showPreview':false,'file':app.models.create('object', {'name':'/','files':app.models.create('collection', {source: [app.models.create('object', {'_id':'index-js','name':'index.js','content':'var%20models%20%3D%20require(%22mojo-models%400.3.4%22)%3B%0A%0Avar%20Person%20%3D%20models.Base.extend(%7B%0A%20%20bindings%3A%20%7B%0A%20%20%20%20%22firstName%2C%20lastName%22%3A%20function%20(firstName%2C%20lastName)%20%7B%0A%20%20%20%20%20%20this.set(%22fullName%22%2C%20firstName%20%2B%20%22%20%22%2B%20lastName)%3B%0A%20%20%20%20%20%20console.log(%22full%20name%20set%20to%20%22%2C%20this.fullName)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D)%3B%0A%0Avar%20person%20%3D%20new%20Person(%7B%20firstName%3A%20%22Natalie%22%2C%20lastName%3A%20%22Portman%22%20%7D)%3B%0A'})] })})});          var script = document.getElementById('script42');          var parent = script.parentNode;          parent.insertBefore(view.render(), script);          var sib = script;          var sibs = [];          while(sib) {            sibs.push(sib);            var prevSibling = sib.prevSibling;            if ($(sib).attr('data-section') === 'end') break;            sib = prevSibling;          }          for (var i = sibs.length; i--;) {            parent.removeChild(sibs[i]);          }        }      });    </script></p> <!--## Unit Testing

Unit tests are very easy to write for mojo-models. Here's a basic example using `mocha`, and `expect.js`:

View:

```javascript
var models = require("mojo-models");
module.exports = models.Base.extend({
    bindings: {
        "firstName, lastName": function (firstName, lastName) {
            this.set("fullName", firstName + " " + lastName);
        }
    }
});
```

Unit Test:

```javascript
var Person = require("./person"),
expect = require("expect.js");

describe(__filename + "#", function() {

    var model;

    beforeEach(function() {
        model = new Person();
    });

    it("properly computes first / last name when changed", function () {
        model.setProperties({
          firstName: "A",
          lastName: "B"
        });
        expect(model.get("fullName")).to.be("A B");
    });
});
```
--></div></div></div></div></div> </body> <script type="text/javascript" src="../../vendor/js/rainbow-custom.min-1445565198814.js"></script></html>