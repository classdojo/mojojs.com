// Generated by CoffeeScript 1.6.2
/*
 converts a string into a hash
*/


(function() {
  exports.strToIntHash = function(str) {
    var char, hash, _i, _ref;

    hash = 0;
    if (!str.length) {
      return hash;
    }
    for (char = _i = 0, _ref = str.length - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; char = 0 <= _ref ? ++_i : --_i) {
      hash = ((hash << 5) - hash) + str.charCodeAt(char);
      hash |= 0;
    }
    return Math.abs(hash);
  };

  /*
   picks a index based on the seed, and weight
  */


  exports.getRandomIndex = function(seed, weight) {
    var dist, i, j, v, _i, _j, _len, _ref;

    dist = [];
    for (i = _i = 0, _len = weight.length; _i < _len; i = ++_i) {
      v = weight[i];
      for (j = _j = 0, _ref = v - 1; 0 <= _ref ? _j <= _ref : _j >= _ref; j = 0 <= _ref ? ++_j : --_j) {
        dist.push(i);
      }
    }
    return dist[exports.strToIntHash(seed) % dist.length];
  };

}).call(this);
